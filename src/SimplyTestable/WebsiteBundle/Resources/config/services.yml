services:
  simplytestable.services.testimonialService:
    class:  SimplyTestable\WebsiteBundle\Services\TestimonialService

  simplytestable.services.cachevalidatorheadersservice:
    class:   SimplyTestable\WebsiteBundle\Services\CacheValidatorHeadersService
    arguments:
        entityManager: "@doctrine.orm.entity_manager"


  simplytestable.services.userservice:
    class:  SimplyTestable\WebsiteBundle\Services\UserService
    arguments:
        session: "@session"
        userSerializerService: "@simplytestable.services.userserializerservice"

  simplytestable.services.userserializerservice:
    class:  SimplyTestable\WebsiteBundle\Services\UserSerializerService
    arguments:
        key: %secret%

  simplytestable.services.notfoundredirectservice:
    class:  SimplyTestable\WebsiteBundle\Services\NotFoundRedirectService
    arguments:
        web_client_parameters: %web_client_urls%
        not_found_redirect_map: %not_found_redirect_map%

  simplytestable.controller.action_listener:
    class: SimplyTestable\WebsiteBundle\EventListener\RequestListener
    arguments:
        kernel: @kernel
    tags:
      - { name: kernel.event_listener, event: kernel.request, method: onKernelRequest }

  simplytestable.services.cacheableResponseService:
    class:  SimplyTestable\WebsiteBundle\Services\CacheableResponseService

  simplytestable.services.planFeaturesService:
    class:  SimplyTestable\WebsiteBundle\Services\PlanFeaturesService
    arguments:
        planData: %plans%